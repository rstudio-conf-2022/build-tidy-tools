<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.35">
<meta name="author" content="Emma Rand and Ian Lyttle">
<title>Building tidy tools - üì¶ Building tidy tools</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
<link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
<style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
<link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
<link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
<style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
<style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<script src="../site_libs/quarto-diagram/mermaid.min.js"></script><script src="../site_libs/quarto-diagram/mermaid-init.js"></script><link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center"><h1 class="title">üì¶ <br>Building tidy tools</h1>
  <p class="subtitle">Day 1 Session 1: üëã &amp; The Whole Game</p>
  <p class="author">Emma Rand and Ian Lyttle</p>
  <p class="date"><br>üîó <a href="https://rstd.io/btt">rstd.io/btt</a></p>
</section><section><section id="welcome" class="title-slide slide level1 center"><h1>üëã Welcome</h1>

</section><section id="introductions" class="slide level2"><h2>Introductions</h2>
<p>This is a two-day, hands-on workshop for those who have embraced the tidyverse and want to build their own packages.</p>
<ul>
<li>Have you written a few of your own R functions?</li>
<li>Are you ready to start sharing your code (or data) through R packages?</li>
<li>Are you curious what you can do to make your first R packages easy for your users to use, and for you to maintain?</li>
</ul></section><section id="the-team" class="slide level2"><h2>The team</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Emma Rand üê¶<a href="https://twitter.com/er13_r">@er13_r</a></p>
<p>Elliot Murphy</p>
<p>Kailey Mulligan</p>
<p>Beatriz Milz üê¶<a href="https://twitter.com/BeaMilz">@BeaMilz</a></p>
</div><div class="column" style="width:50%;">
<p>Ian Lyttle üê¶<a href="https://twitter.com/ijlyttle">@ijlyttle</a></p>
<p>Haley Jeppson</p>
<p>Ted Laderas üê¶<a href="https://twitter.com/tladeras">@tladeras</a></p>
</div>
</div>
<p>&nbsp;</p>
<p>Standing on the shoulders of Building Tidy Tools, rstudio::conf(2020) <span class="citation" data-cites="wickham2021a">(<a href="#/ref-wickham2021a" role="doc-biblioref" onclick="return false;">C. Wickham and Wickham 2021</a>)</span>, R Packages <span class="citation" data-cites="wickham2020">(<a href="#/ref-wickham2020" role="doc-biblioref" onclick="return false;">H. Wickham and Bryan 2020</a>)</span></p>
</section><section id="to" class="slide level2"><h2>üôè to</h2>
<ul>
<li><p>the TAs</p></li>
<li><p>colleagues, friends and learners at Schneider Electric, University of York and RForwards!</p></li>
<li><p>RStudio team and especially Mine √áetinkaya-Rundel</p></li>
</ul></section><section id="housekeeping" class="slide level2"><h2>Housekeeping</h2>
<ul>
<li><p>Toilets</p></li>
<li><p>Fire exits and alarms</p></li>
<li><p>anything else?</p></li>
</ul></section><section id="prerequisites" class="slide level2"><h2>Prerequisites</h2>
<p>You need a laptop with the following installed:</p>
<ul>
<li>R and RStudio</li>
<li>R package development toolchain: Rtools(windows) or XCode (mac) or r-base-dev</li>
<li>The following packages: <strong><code>devtools</code></strong> and <strong><code>btt22</code></strong>
</li>
<li>Git</li>
<li>GitHub account linked to RStudio</li>
</ul>
<p>Detailed instructions for installing these are covered in <a href="pre-reqs.qmd">Prerequisites</a></p>
</section><section id="day-1" class="slide level2"><h2>Day 1</h2>
<table>
<thead><tr class="header">
<th style="text-align: left;">Time</th>
<th style="text-align: left;">Activity</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">09:00 - 10:30</td>
<td style="text-align: left;"><a href="materials/day-1-session-1-introduction.qmd">Session 1: Introduction and the whole game</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">10:30 - 11:00</td>
<td style="text-align: left;">‚òï <em>Coffee break</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11:00 - 12:30</td>
<td style="text-align: left;"><a href="materials/day-1-session-2-doc-minimal.qmd">Session 2: Documentation - Minimal</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">12:30 - 13:30</td>
<td style="text-align: left;">üç± <em>Lunch break</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13:30 - 15:00</td>
<td style="text-align: left;"><a href="materials/day-1-session-3-testing.qmd">Session 3: Unit testing</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">15:00 - 15:30</td>
<td style="text-align: left;">‚òï <em>Coffee break</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15:30 - 17:00</td>
<td style="text-align: left;"><a href="materials/day-1-session-4-doc-sharing.qmd">Session 4: Documentation - Sharing</a></td>
</tr>
</tbody>
</table></section><section id="day-2" class="slide level2"><h2>Day 2</h2>
<table>
<thead><tr class="header">
<th style="text-align: left;">Time</th>
<th style="text-align: left;">Activity</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">09:00 - 10:30</td>
<td style="text-align: left;"><a href="materials/day-2-session-1-design.qmd">Session 1: Function design</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">10:30 - 11:00</td>
<td style="text-align: left;">‚òï <em>Coffee break</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">11:00 - 12:30</td>
<td style="text-align: left;"><a href="materials/day-2-session-2-side-effects.qmd">Session 2: Side effects</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">12:30 - 13:30</td>
<td style="text-align: left;">üç± <em>Lunch break</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">13:30 - 15:00</td>
<td style="text-align: left;"><a href="materials/day-2-session-3-tidy-eval.qmd">Session 3: Tidy eval</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">15:00 - 15:30</td>
<td style="text-align: left;">‚òï <em>Coffee break</em>
</td>
</tr>
<tr class="odd">
<td style="text-align: left;">15:30 - 17:00</td>
<td style="text-align: left;"><a href="materials/day-2-session-4-miscellany.qmd">Session 4: Miscellany</a></td>
</tr>
</tbody>
</table></section><section id="code-of-conduct" class="slide level2"><h2>Code of Conduct</h2>
<p><a href="https://www.rstudio.com/conference/2022/2022-conf-code-of-conduct/">Code of Conduct &amp; COVID</a></p>
<ul>
<li>üò∑ Please wear a mask</li>
<li>Everyone should feel welcome</li>
<li>No harassing, intimidating or discriminatory verbal, physical or visual conduct in any form</li>
</ul>
<p>Reporting:</p>
<ul>
<li>üó£Ô∏è any rstudio::conf staff member</li>
<li>üìß conf@rstudio.com</li>
<li>‚òéÔ∏è 844-448-1212</li>
</ul></section><section id="how-we-will-work" class="slide level2"><h2>How we will work</h2>
<ul>
<li><p>stickies üü® üü©</p></li>
<li><p>no stupid questions</p></li>
<li>
</li></ul></section><section id="learning-objectives" class="slide level2"><h2>Learning Objectives</h2>
<div class="small">
<p>At the end of this section you will be able to:</p>
<ul>
<li>Make changes to your <code>.Rprofile</code> and RStudio set to ease the package writing process</li>
<li>explain the rationale for writing packages</li>
<li>find and explore their own package library/libraries</li>
<li>describe the key components of a minimal package</li>
<li>describe the different states a package can be in</li>
<li>outline the development of a package using <code>devtools</code> <span class="citation" data-cites="devtools-2">(<a href="#/ref-devtools-2" role="doc-biblioref" onclick="return false;">H. Wickham et al. 2021</a>)</span>
</li>
<li>create a simple version controlled package with a remote repo on GitHub</li>
<li>use the package interactively with <code><a href="https://devtools.r-lib.org/reference/load_all.html">devtools::load_all()</a></code>
</li>
<li>check package validity with <code><a href="https://devtools.r-lib.org/reference/check.html">devtools::check()</a></code>
</li>
</ul>
</div>
</section></section><section><section id="set-up-tips" class="title-slide slide level1 center"><h1>üî• Set up tips</h1>

</section><section id="global-options" class="slide level2"><h2>üî• Global Options</h2>
<p>üé¨ Tools | Global Options | General</p>
<div style="background-color: #707070">
<p>üî≤ Restore .RData into workspace at startup: <strong>unchecked</strong></p>
<p>Save workspace to .RData on exit: <strong>Never</strong></p>
</div>
<div class="fragment">
<p>üé¨ Tools | Global Options | Code | Display</p>
<div style="background-color: #707070">
<p>‚òëÔ∏è Show margin: <strong>checked</strong></p>
<p>Margin column 80</p>
</div>
</div>
</section><section id="set-up-your-.rprofile" class="slide level2"><h2>üî• Set up your <code>.Rprofile</code>
</h2>
<p>The <strong><code>usethis</code></strong> <span class="citation" data-cites="usethis-2">(<a href="#/ref-usethis-2" role="doc-biblioref" onclick="return false;">H. Wickham, Bryan, and Barrett 2022</a>)</span> package allows you to add default information about you that will be used in package development.</p>
<p><br></p>
<p>üé¨ Edit your <code>.Rprofile</code> with <code><a href="https://usethis.r-lib.org/reference/edit.html">usethis::edit_r_profile</a></code>:<br></p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_profile</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>to set the following options‚Ä¶.</p>
</section><section id="set-up-your-.rprofile-1" class="slide level2"><h2>üî• Set up your <code>.Rprofile</code>
</h2>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span></span>
<span>  usethis.full_name <span class="op">=</span> <span class="st">"Emma Rand"</span>,</span>
<span>  usethis.description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>    `Authors@R` <span class="op">=</span> <span class="st">'person("Emma", "Rand",</span></span>
<span><span class="st">          email = "emma.rand@york.ac.uk",</span></span>
<span><span class="st">          role = c("aut", "cre"))'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="set-up-your-.rprofile-2" class="slide level2"><h2>üî• Set up your <code>.Rprofile</code>
</h2>
<p>üé¨ Load <strong><code>devtools</code></strong> and <strong><code>testthat</code></strong> <span class="citation" data-cites="testthat-2">(<a href="#/ref-testthat-2" role="doc-biblioref" onclick="return false;">H. Wickham 2011</a>)</span> on start up</p>
<p><br></p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org">testthat</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>üé¨ Restart R for these to take an effect.</p>
</section></section><section><section id="why-make-a-package" class="title-slide slide level1 center"><h1>Why make a package?</h1>

</section><section id="why-make-a-package-1" class="slide level2"><h2>Why make a package</h2>
<ul>
<li>makes it easier to reuse functions you write</li>
<li>have a consistent framework which encourages you to better organise, document and test, your code</li>
<li>using this consistent framework means you can use many standardised tools</li>
<li>is the easiest way to distribute code and data</li>
</ul></section><section id="be-nice-to-future-you" class="slide level2"><h2>Be nice to future you</h2>

<img data-src="images/future_you.png" alt="Person working at a computer with an offstage person asking &quot;How is the analysis going?&quot; The person at the computer replies &quot;Can't understand the data...and the data collector does not answer my emails or calls&quot; Person offstage: &quot;That's terrible! So cruel! Who did collect the data? I will sack them!&quot; Person at the computer: &quot;um...I did, 3 years ago&quot;" class="r-stretch quarto-figure-center"><p class="caption">Future self: CC-BY-NC, by Julen Colomb, derived from Randall Munroe cartoon</p></section><section id="to-avoid" class="slide level2"><h2>To avoid</h2>
<iframe src="https://giphy.com/embed/M11UVCRrc0LUk" width="480" height="277" frameborder="0" class="giphy-embed" allowfullscreen="">
</iframe>
<p>
<a href="https://giphy.com/gifs/M11UVCRrc0LUk">via GIPHY</a>
</p>
</section><section id="script-vs-package" class="slide level2"><h2>Script vs package</h2>
<div class="columns">
<div class="column" style="width:35%;">
<h3 id="script">Script</h3>
<ul>
<li>one-off data analysis</li>
<li>defined by <code>.R</code> extension</li>
<li>
<code><a href="https://rdrr.io/r/base/library.html">library()</a></code> calls</li>
<li>documentation in # comments</li>
<li><code><a href="https://rdrr.io/r/base/source.html">source()</a></code></li>
</ul>
</div><div class="column" style="width:65%;">
<h3 id="package">Package</h3>
<ul>
<li>defines reusable components</li>
<li>defined by presence of <code>DESCRIPTION</code> file</li>
<li>Required packages specified in <code>DESCRIPTION</code>, made available in <code>NAMESPACE</code> file</li>
<li>documentation in files and <code>Roxygen</code> comments</li>
<li>Install and restart</li>
</ul>
</div>
</div>
</section></section><section><section id="where-packages-come-from-and-live" class="title-slide slide level1 center"><h1>Where packages come from and live?</h1>

</section><section id="where-do-r-packages-come-from" class="slide level2"><h2>Where do R packages come from?</h2>
<p>CRAN:</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"praise"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>GitHub:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"rladies/praise"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Bioconductor</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocManager/man/install.html">install</a></span><span class="op">(</span><span class="st">"celaref"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="where-do-packages-live" class="slide level2"><h2>Where do packages live?</h2>
<p>In a library! In</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Rhome.html">R.home</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/opt/R/4.2.0/lib/R"</code></pre>
</div>
</div>
<p>The R home directory is the top-level directory of your R installation.</p>
<p>Note: this is <strong>not</strong> the same as your working directory or your home directory.</p>
</section><section id="your-r-installation" class="slide level2"><h2>Your R installation</h2>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Rhome.html">R.home</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "bin"          "COPYING"      "doc"          "etc"          "include"     
 [6] "lib"          "library"      "modules"      "share"        "SVN-REVISION"</code></pre>
</div>
</div>
</section><section id="your-library" class="slide level2"><h2>Your library</h2>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">.Library</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/opt/R/4.2.0/lib/R/library"</code></pre>
</div>
</div>
</section><section id="your-library-1" class="slide level2"><h2>Your library</h2>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">dir</a></span><span class="op">(</span><span class="va">.Library</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "base"         "boot"         "class"        "cluster"      "codetools"   
 [6] "compiler"     "datasets"     "foreign"      "graphics"     "grDevices"   
[11] "grid"         "KernSmooth"   "lattice"      "MASS"         "Matrix"      
[16] "methods"      "mgcv"         "nlme"         "nnet"         "parallel"    
[21] "rpart"        "spatial"      "splines"      "stats"        "stats4"      
[26] "survival"     "tcltk"        "tools"        "translations" "utils"       </code></pre>
</div>
</div>
</section></section><section><section id="explore-a-package" class="title-slide slide level1 center"><h1>Explore a package</h1>

</section><section id="the-ussie-package" class="slide level2"><h2>The <strong><code>ussie</code></strong> package</h2>
<ul>
<li>We will create a version controlled package called <strong><code>ussie</code></strong> with a remote repo on GitHub.</li>
</ul>
<p><br></p>
<div class="fragment">
<p><strong><code>ussie</code></strong> will allow you to work with European football league data supplied by the <strong><code>engsoccerdata</code></strong> package <span class="citation" data-cites="engsoccerdata">(<a href="#/ref-engsoccerdata" role="doc-biblioref" onclick="return false;">Curley 2016</a>)</span>.</p>
</div>
</section><section id="explore-ussie" class="slide level2"><h2>Explore <strong><code>ussie</code></strong>
</h2>
<ul>
<li><a href="https://github.com/rstudio-conf-2022/ussie">GitHub</a></li>
<li><a href="https://rstudio-conf-2022.github.io/ussie/">Website</a></li>
</ul>
<p><br></p>
<p><a href="https://github.com/rstudio-conf-2022/ussie">GitHub</a> is the package in ‚ÄúSource‚Äù form</p>
<ul>
<li>main code in <code>R/</code>
</li>
<li>documentation files in <code>man/</code> and <code>vignettes/</code>
</li>
<li>DESCRIPTION</li>
</ul></section></section><section><section id="package-states" class="title-slide slide level1 center"><h1>Package states</h1>

</section><section id="package-states-1" class="slide level2"><h2>Package states</h2>
<p>There are five states a package can be in:</p>
<ul>
<li><p>source</p></li>
<li><p>bundled</p></li>
<li><p>binary</p></li>
<li><p>installed</p></li>
<li><p>in-memory</p></li>
</ul>

<aside><div>
<p>Having a understanding of the different states a package can be helpful in understanding package development.</p>
</div></aside></section><section id="package-states-2" class="slide level2"><h2>Package states</h2>
<div class="quarto-figure quarto-figure-center">
<figure><p><img data-src="images/installation.png" alt="schematic of package states and the functions that move them between states. One the horizontal axis: source, bundle, binary, installed, in memory. One the vertical axis the functions install.packages, R CMD install, install, build, install_github"></p>
<p></p><figcaption>Schematic of methods for moving between package states</figcaption><p></p>
</figure>
</div>

<aside><div>
<p>Figure from <a href="https://r-pkgs.org/">R Packages</a> <span class="citation" data-cites="wickham2020">(<a href="#/ref-wickham2020" role="doc-biblioref" onclick="return false;">H. Wickham and Bryan 2020</a>)</span></p>
</div></aside></section><section id="package-states-3" class="slide level2"><h2>Package states</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><div style="background-color: #707070">
<p>source</p>
</div></li>
<li><p>bundled</p></li>
<li><p>binary</p></li>
<li><p>installed</p></li>
<li><p>in-memory</p></li>
</ul>
</div><div class="column" style="width: 60%; background-color: #707070">
<p>What you create and work on.</p>
<p>Specific directory structure with some particular components e.g., <code>DESCRIPTION</code>, an <code>R/</code> directory.</p>
</div>
</div>
</section><section id="package-states-4" class="slide level2"><h2>Package states</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><p>source</p></li>
<li><div style="background-color: #707070">
<p>bundled</p>
</div></li>
<li><p>binary</p></li>
<li><p>installed</p></li>
<li><p>in-memory</p></li>
</ul>
</div><div class="column" style="width: 60%; background-color: #707070">
<p>Also known as ‚Äúsource tarballs‚Äù.</p>
<p>Package files compressed to single file.</p>
<p>Conventionally <code>.tar.gz</code></p>
<p>You don‚Äôt normally need to make one.</p>
<p>Unpacked it looks very like the source package</p>
</div>
</div>
</section><section id="package-states-5" class="slide level2"><h2>Package states</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><p>source</p></li>
<li><p>bundled</p></li>
<li><div style="background-color: #707070">
<p>binary</p>
</div></li>
<li><p>installed</p></li>
<li><p>in-memory</p></li>
</ul>
</div><div class="column" style="width: 60%; background-color: #707070">
<p>Package distribution for users w/o dev tools</p>
<p>Also a single file</p>
<p>Platform specific: <code>.tgz</code> (Mac) <code>.zip</code> (Windows)</p>
<p>Package developers submit a bundle to CRAN; CRAN makes and distributes binaries</p>
<p><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code></p>
</div>
</div>
</section><section id="package-states-6" class="slide level2"><h2>Package states</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><p>source</p></li>
<li><p>bundled</p></li>
<li><p>binary</p></li>
<li><div style="background-color: #707070">
<p>installed</p>
</div></li>
<li><p>in-memory</p></li>
</ul>
</div><div class="column" style="width: 60%; background-color: #707070">
<p>A binary package that‚Äôs been decompressed into a package library</p>
<p>Command line tool <code>R CMD INSTALL</code> powers all package installation</p>
</div>
</div>
</section><section id="package-states-7" class="slide level2"><h2>Package states</h2>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li><p>source</p></li>
<li><p>bundled</p></li>
<li><p>binary</p></li>
<li><p>installed</p></li>
<li><div style="background-color: #707070">
<p>in-memory</p>
</div></li>
</ul>
</div><div class="column" style="width: 60%; background-color: #707070">
<p>If a package is installed, <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> makes its function available by loading the package into memory and attaching it to the search path.</p>
<p>We do not use <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> for packages we are working on</p>
<p><code><a href="https://devtools.r-lib.org/reference/load_all.html">devtools::load_all()</a></code> loads a source package directly into memory.</p>
</div>
</div>
</section></section><section><section id="create-a-package" class="title-slide slide level1 center"><h1>Create a package!</h1>

</section><section id="create-a-package-1" class="slide level2"><h2>Create a package</h2>
<p>The CRAN version of <strong><code>engsoccerdata</code></strong> has data from the start of the league until 2016 for <code>england</code>, <code>germany</code>, <code>holland</code>, <code>italy</code> and <code>spain</code></p>
<p><br></p>
<div class="fragment">
<p>BUT the format of the data is <strong>not</strong> the same for all countries!!</p>
</div>
</section><section id="about-engsoccerdata" class="slide level2"><h2>About <strong><code>engsoccerdata</code></strong>
</h2>
<div class="extrasmall">
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="fu">engsoccerdata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/engsoccerdata/man/england.html">england</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 192,004
Columns: 12
$ Date     &lt;fct&gt; 1888-12-15, 1889-01-19, 1889-03-23, 1888-12-01, 1888-10-13, 1‚Ä¶
$ Season   &lt;dbl&gt; 1888, 1888, 1888, 1888, 1888, 1888, 1888, 1888, 1888, 1888, 1‚Ä¶
$ home     &lt;fct&gt; Accrington F.C., Accrington F.C., Accrington F.C., Accrington‚Ä¶
$ visitor  &lt;fct&gt; Aston Villa, Blackburn Rovers, Bolton Wanderers, Burnley, Der‚Ä¶
$ FT       &lt;fct&gt; 1-1, 0-2, 2-3, 5-1, 6-2, 3-1, 1-2, 0-0, 2-0, 2-1, 4-4, 4-3, 6‚Ä¶
$ hgoal    &lt;dbl&gt; 1, 0, 2, 5, 6, 3, 1, 0, 2, 2, 4, 4, 6, 6, 4, 4, 2, 9, 0, 5, 2‚Ä¶
$ vgoal    &lt;dbl&gt; 1, 2, 3, 1, 2, 1, 2, 0, 0, 1, 4, 3, 1, 2, 2, 2, 1, 1, 2, 1, 0‚Ä¶
$ division &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1‚Ä¶
$ tier     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1‚Ä¶
$ totgoal  &lt;dbl&gt; 2, 2, 5, 6, 8, 4, 3, 0, 2, 3, 8, 7, 7, 8, 6, 6, 3, 10, 2, 6, ‚Ä¶
$ goaldif  &lt;dbl&gt; 0, -2, -1, 4, 4, 2, -1, 0, 2, 1, 0, 1, 5, 4, 2, 2, 1, 8, -2, ‚Ä¶
$ result   &lt;fct&gt; D, A, A, H, H, H, A, D, H, H, D, H, H, H, H, H, H, H, A, H, H‚Ä¶</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="fu">engsoccerdata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/engsoccerdata/man/spain.html">spain</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 23,915
Columns: 12
$ Date    &lt;chr&gt; "1929-02-10", "1929-02-10", "1929-02-10", "1929-02-10", "1929-‚Ä¶
$ Season  &lt;dbl&gt; 1928, 1928, 1928, 1928, 1928, 1928, 1928, 1928, 1928, 1928, 19‚Ä¶
$ home    &lt;chr&gt; "Arenas de Getxo", "Espanyol Barcelona", "Real Madrid", "Real ‚Ä¶
$ visitor &lt;chr&gt; "Atletico Madrid", "Real Union", "CE Europa", "Athletic Bilbao‚Ä¶
$ HT      &lt;chr&gt; "0-2", "1-0", "0-0", "1-1", "0-0", "0-1", "3-0", "0-3", "0-1",‚Ä¶
$ FT      &lt;chr&gt; "2-3", "3-2", "5-0", "1-1", "0-2", "1-2", "9-0", "0-3", "3-1",‚Ä¶
$ hgoal   &lt;dbl&gt; 2, 3, 5, 1, 0, 1, 9, 0, 3, 5, 3, 3, 1, 0, 2, 1, 2, 3, 2, 2, 3,‚Ä¶
$ vgoal   &lt;dbl&gt; 3, 2, 0, 1, 2, 2, 0, 3, 1, 2, 0, 1, 1, 4, 1, 2, 1, 0, 2, 0, 3,‚Ä¶
$ tier    &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,‚Ä¶
$ round   &lt;chr&gt; "league", "league", "league", "league", "league", "league", "l‚Ä¶
$ group   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA‚Ä¶
$ notes   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA‚Ä¶</code></pre>
</div>
</div>
</div>
</section><section id="first-function" class="slide level2"><h2>First function</h2>
<p>So the first function in our <strong><code>ussie</code></strong> package will turn these in to standard formats:</p>
<ul>
<li><p>use only the common columns</p></li>
<li><p>give the same column the same data type</p></li>
</ul></section><section id="create-a-package-2" class="slide level2"><h2>Create a package</h2>
<p>Be deliberate about where you create your package</p>
<p>Do not nest inside another RStudio project, R package or git repo.</p>
<p><br></p>
<p>üé¨ Create a package:</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/create_package.html">create_package</a></span><span class="op">(</span><span class="st">"~/Desktop/ussie"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<aside><div>
<p>You may want a different path</p>
</div></aside></section><section id="section" class="slide level2 extrasmall"><h2></h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>‚úî Creating 'ussie/'</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>‚úî Setting active project to 'C:/Users/er13/OneDrive - University of York/Desktop/Desktop/rstudio-conf-2022/ussie'</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>‚úî Creating 'R/'</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>‚úî Writing 'DESCRIPTION'</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>Package: ussie</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>Title: What the Package Does (One Line, Title Case)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>Version: 0.0.0.9000</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>Authors@R (parsed):</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    * Emma Rand &lt;emma.rand@york.ac.uk&gt; [aut, cre] (&lt;https://orcid.org/0000-0002-1358-8275&gt;)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>Description: What the package does (one paragraph).</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>License: `use_mit_license()`, `use_gpl3_license()` or friends to</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    pick a license</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>Encoding: UTF-8</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>Roxygen: list(markdown = TRUE)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>RoxygenNote: 7.2.0</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>‚úî Writing 'NAMESPACE'</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>‚úî Writing 'ussie.Rproj'</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>‚úî Adding '^ussie\\.Rproj$' to '.Rbuildignore'</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>‚úî Adding '.Rproj.user' to '.gitignore'</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>‚úî Adding '^\\.Rproj\\.user$' to '.Rbuildignore'</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>‚úî Opening 'C:/Users/er13/OneDrive - University of York/Desktop/Desktop/rstudio-conf-2022/ussie/' in new RStudio session</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>‚úî Setting active project to '&lt;no active project&gt;'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="create_package" class="slide level2"><h2><code>create_package()</code></h2>
<p>What happens when we run <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code>?</p>
<ul>
<li><p>R will create a folder called <code>ussie</code> which is a package and an RStudio project</p></li>
<li><p>restart R in the new project</p></li>
<li><p>create some infrastructure for your package</p></li>
<li><p>start the RStudio Build pane</p></li>
</ul>

<aside><div>
<p>continued‚Ä¶..</p>
</div></aside></section><section id="create_package-1" class="slide level2"><h2><code>create_package()</code></h2>
<p>What happens when we run <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code>?</p>
<ul>
<li><p><code>ussie.Rproj</code></p></li>
<li><p><code>DESCRIPTION</code> provides metadata about your package.</p></li>
<li><p>The <code>R/</code> directory is where we will put <code>.R</code> files with function definitions.</p></li>
<li><p><code>NAMESPACE</code> declares the functions your package exports and the functions your package imports from other packages.</p></li>
</ul>

<aside><div>
<p>continued‚Ä¶..</p>
</div></aside></section><section id="create_package-2" class="slide level2"><h2><code>create_package()</code></h2>
<p>What happens when we run <code><a href="https://usethis.r-lib.org/reference/create_package.html">create_package()</a></code>?</p>
<ul>
<li><p><code>.Rbuildignore</code> lists files that we need but that should not be included when building the R package from source.</p></li>
<li><p><code>.gitignore</code> anticipates Git usage and ignores some standard, behind-the-scenes files created by R and RStudio.</p></li>
</ul></section><section id="make-package-a-git-repo" class="slide level2"><h2>Make package a git repo</h2>
<p>üé¨ Make your package a git repository</p>
<div class="cell">
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_git.html">use_git</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="section-1" class="slide level2"><h2></h2>
<div class="small">
<div class="sourceCode" id="cb22"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>‚úî Setting active project to 'C:/Users/er13/OneDrive - University of York/Desktop/Desktop/rstudio-conf-2022/ussie'</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>‚úî Initialising Git repo</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>‚úî Adding '.Rhistory', '.Rdata', '.httr-oauth', '.DS_Store' to '.gitignore'</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>There are 5 uncommitted files:</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>* '.gitignore'</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>* '.Rbuildignore'</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>* 'DESCRIPTION'</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>* 'NAMESPACE'</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>* 'ussie.Rproj'</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>Is it ok to commit them?</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>1: No way</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>2: Negative</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>3: I agree</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>üé¨ Choose the option that means yes!</p>
</section><section id="section-2" class="slide level2"><h2></h2>
<div class="small">
<div class="sourceCode" id="cb23"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>‚úî Adding files</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>‚úî Making a commit with message 'Initial commit'</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>‚Ä¢ A restart of RStudio is required to activate the Git pane</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>Restart now?</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>1: Yup</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>2: Not now</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>3: Absolutely not</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>üé¨ Choose the option that means yes!</p>
<p><br></p>
<p>Your session will restart.</p>
</section><section id="put-a-remote-copy-on-github" class="slide level2"><h2>Put a remote copy on GitHub</h2>
<p>üé¨ Put on GitHub as a remote repository</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_github.html">use_github</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="section-3" class="slide level2"><h2></h2>
<div class="small">
<div class="sourceCode" id="cb25"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>‚Ñπ Defaulting to 'https' Git protocol</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>‚úî Setting active project to 'C:/Users/er13/OneDrive - University of York/Desktop/Desktop/rstudio-conf-2022/ussie'</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>‚úî Creating GitHub repository '3mmaRand/ussie'</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>‚úî Setting remote 'origin' to 'https://github.com/3mmaRand/ussie.git'</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>‚úî Setting URL field in DESCRIPTION to 'https://github.com/3mmaRand/ussie'</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>‚úî Setting BugReports field in DESCRIPTION to 'https://github.com/3mmaRand/ussie/issues'</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>There is 1 uncommitted file:</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>* 'DESCRIPTION'</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>Is it ok to commit it?</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>1: Absolutely</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>2: Nope</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>3: No</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>üé¨ Choose the option that means yes!</p>
</section><section id="section-4" class="slide level2"><h2></h2>
<div class="small">
<div class="sourceCode" id="cb26"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>‚úî Adding files</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>‚úî Making a commit with message 'Add GitHub links to DESCRIPTION'</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>‚úî Pushing 'main' branch to GitHub and setting 'origin/main' as upstream branch</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>‚úî Opening URL 'https://github.com/3mmaRand/ussie'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="section-5" class="slide level2"><h2></h2>
<p>üé¨ Quick check with:</p>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/git_sitrep.html">git_sitrep</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="extrasmall">
<div class="sourceCode" id="cb28"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>Git config (global)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Name: 'Emma Rand'</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Email: 'emma.rand@york.ac.uk'</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Global (user-level) gitignore file: 'C:/Users/er13/.gitignore'</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Vaccinated: TRUE</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Default Git protocol: 'https'</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Default initial branch name: 'master', 'main'</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>GitHub</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Default GitHub host: 'https://github.com'</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Personal access token for 'https://github.com': '&lt;discovered&gt;'</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>‚Ä¢ GitHub user: '3mmaRand'</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Token scopes: 'gist, repo, user, workflow'</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Email(s): 'emma.rand@york.ac.uk (primary)', '7593411+3mmaRand@users.noreply.github.com'</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>Git repo for current project</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Active usethis project: 'C:/Users/er13/OneDrive - University of York/Desktop/Desktop/rstudio-conf-2022/ussie'</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Default branch: 'main'</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Current local branch -&gt; remote tracking branch:</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  'main' -&gt; 'origin/main'</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>GitHub remote configuration</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Type = 'ours'</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Host = 'https://github.com'</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Config supports a pull request = TRUE</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>‚Ä¢ origin = '3mmaRand/ussie' (can push)</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>‚Ä¢ upstream = &lt;not configured&gt;</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Desc = 'origin' is both the source and primary repo.</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>  Read more about the GitHub remote configurations that usethis supports at:</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>  'https://happygitwithr.com/common-remote-setups.html'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="add-the-first-function" class="slide level2"><h2>Add the first function</h2>
<p>We will add <code>uss_make_matches()</code></p>
<p>Functions will go in an <code>.R</code> file.</p>
<p><br></p>
<div class="fragment">
<p>There‚Äôs a <strong><code>usethis</code></strong> helper for adding <code>.R</code> files!</p>
<p><br></p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span><span class="op">(</span><span class="st">"file_name"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><code><a href="https://usethis.r-lib.org/reference/use_r.html">usethis::use_r()</a></code> adds the file extension and saves in <code>R/</code> folder</p>
</div>
</section><section id="usethisuse_r" class="slide level2"><h2><code>usethis::use_r()</code></h2>
<p>üé¨ Create a new R file in your package called <code>matches.R</code></p>
<p><br></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span><span class="op">(</span><span class="st">"matches"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb31"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Modify 'R/matches.R'</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>‚Ä¢ Call `use_test()` to create a matching test file</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<aside><div>
<p>We will come back to that test files this afternoon</p>
</div></aside></section><section id="the-function" class="slide level2"><h2>The function?</h2>
<p>We want to be able to use the function like this: <code>uss_make_matches(engsoccerdata::italy)</code></p>
</section><section id="add-the-function" class="slide level2"><h2>Add the function</h2>
<p>üé¨ Put the following code into <code>matches</code>:</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="|1|3|4|5-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>uss_make_matches <span class="ot">&lt;-</span> <span class="cf">function</span>(data_engsoc) {</span>
<span id="cb32-2"><a href="#cb32-2"></a>  result <span class="ot">&lt;-</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>    data_engsoc <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>    tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>    dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb32-6"><a href="#cb32-6"></a>      <span class="at">tier =</span> <span class="fu">factor</span>(tier, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>)),</span>
<span id="cb32-7"><a href="#cb32-7"></a>      <span class="at">season =</span> <span class="fu">as.integer</span>(Season),</span>
<span id="cb32-8"><a href="#cb32-8"></a>      <span class="at">date =</span> <span class="fu">as.Date</span>(Date),</span>
<span id="cb32-9"><a href="#cb32-9"></a>      <span class="at">home =</span> <span class="fu">as.character</span>(home),</span>
<span id="cb32-10"><a href="#cb32-10"></a>      <span class="at">visitor =</span> <span class="fu">as.character</span>(visitor),</span>
<span id="cb32-11"><a href="#cb32-11"></a>      <span class="at">goals_home =</span> <span class="fu">as.integer</span>(hgoal),</span>
<span id="cb32-12"><a href="#cb32-12"></a>      <span class="at">goals_visitor =</span> <span class="fu">as.integer</span>(vgoal)</span>
<span id="cb32-13"><a href="#cb32-13"></a>    )</span>
<span id="cb32-14"><a href="#cb32-14"></a>  result</span>
<span id="cb32-15"><a href="#cb32-15"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section></section><section><section id="try-out-your-function" class="title-slide slide level1 center"><h1>Try out your function</h1>

</section><section id="development-workflow" class="slide level2"><h2>Development workflow</h2>
<p>In a normal script you might use:</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"R/matches.R"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<p>but when building packages we use a <code>devtools</code> approach</p>
</div>
</section><section id="development-workflow-1" class="slide level2"><h2>Development workflow</h2>
<div class="cell" data-reveal="true" evaluate:="true" data-fig-width="8">
<div class="cell-output-display">
<div>
<p>
</p>
<pre class="mermaid" data-tooltip-selector="#mermaid-tooltip-1">%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#f3f3f3',  'lineColor':'#EE9AD9'}}}%%

  flowchart LR
      id1("Load code: \n load_all()") --&gt; 
      id2("Explore in \n console") --&gt; 
      id3("Modify \n code")
      id3 --&gt; id1
      style id1 id2 id3 stroke:#3F3F3F,stroke-width:2px

</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>

</div>
</div>
</div>
<!-- fig-alt="there are three boxes with arrow joining them clockwise. The boxes are (clockwise from 3' oclock) 'devtools::load_all() Cmd/Ctrl + Shift +L', 'Explore in console' and 'Modify code'" -->
</section></section><section><section id="load-your-package" class="title-slide slide level1 center"><h1>Load your package</h1>

</section><section id="devtoolsload_all" class="slide level2"><h2><code>devtools::load_all()</code></h2>
<p>üé¨ Load package with <code><a href="https://devtools.r-lib.org/reference/load_all.html">devtools::load_all()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/load_all.html">load_all</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode" id="cb35"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>‚Ñπ Loading ussie</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="experiment" class="slide level2"><h2>Experiment</h2>
<p>üé¨ Try out the <code>uss_make_matches()</code> function in the console.</p>
<div class="cell">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">uss_make_matches</span><span class="op">(</span><span class="fu">engsoccerdata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/engsoccerdata/man/italy.html">italy</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="small">
<div class="sourceCode" id="cb37"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a># A tibble: 25,404 √ó 7</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    tier season date       home   visitor goals_home goals_visitor</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>   &lt;int&gt;  &lt;int&gt; &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;        &lt;int&gt;         &lt;int&gt;</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a> 1     1   1934 1934-09-30 Lazio‚Ä¶ US Liv‚Ä¶          6             1</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a> 2     1   1934 1934-09-30 Torin‚Ä¶ Unione‚Ä¶          3             1</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a> 3     1   1934 1934-09-30 Sampi‚Ä¶ Bologn‚Ä¶          2             1</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a> 4     1   1934 1934-09-30 SSC N‚Ä¶ US Ale‚Ä¶          0             1</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a> 5     1   1934 1934-09-30 ACF F‚Ä¶ AS Roma          4             1</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a> 6     1   1934 1934-09-30 Bresc‚Ä¶ Juvent‚Ä¶          0             2</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a> 7     1   1934 1934-09-30 Inter  US Pal‚Ä¶          3             0</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a> 8     1   1934 1934-09-30 Pro V‚Ä¶ AC Mil‚Ä¶          1             2</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a> 9     1   1934 1934-10-07 AC Mi‚Ä¶ ACF Fi‚Ä¶          1             1</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>10     1   1934 1934-10-07 US Li‚Ä¶ Inter            1             1</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a># ‚Ä¶ with 25,394 more rows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ü§î There‚Äôs no column for the country - that could be confusing</p>
</section><section id="update-the-function" class="slide level2"><h2>Update the function</h2>
<p>üé¨ Change the function so it takes an additional argument which is the name of the country. The country name should be in column called ‚Äúcountry‚Äù. The aim is to use the function like this:</p>
<div class="cell">
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">uss_make_matches</span><span class="op">(</span><span class="fu">engsoccerdata</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/engsoccerdata/man/spain.html">spain</a></span>, <span class="st">"Spain"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<p>üé¨ Load with <code><a href="https://devtools.r-lib.org/reference/load_all.html">devtools::load_all()</a></code> and try out the updated function.</p>
</div>
</section><section id="an-answer" class="slide level2"><h2>An answer</h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb39" data-code-line-numbers="|1,6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>uss_make_matches <span class="ot">&lt;-</span> <span class="cf">function</span>(data_engsoc, country) {</span>
<span id="cb39-2"><a href="#cb39-2"></a>  result <span class="ot">&lt;-</span></span>
<span id="cb39-3"><a href="#cb39-3"></a>    data_engsoc <span class="sc">|&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4"></a>    tibble<span class="sc">::</span><span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-5"><a href="#cb39-5"></a>    dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb39-6"><a href="#cb39-6"></a>      <span class="at">country =</span> <span class="fu">as.character</span>(country),</span>
<span id="cb39-7"><a href="#cb39-7"></a>      <span class="at">tier =</span> <span class="fu">factor</span>(tier, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>, <span class="st">"4"</span>)),</span>
<span id="cb39-8"><a href="#cb39-8"></a>      <span class="at">season =</span> <span class="fu">as.integer</span>(Season),</span>
<span id="cb39-9"><a href="#cb39-9"></a>      <span class="at">date =</span> <span class="fu">as.Date</span>(Date),</span>
<span id="cb39-10"><a href="#cb39-10"></a>      <span class="at">home =</span> <span class="fu">as.character</span>(home),</span>
<span id="cb39-11"><a href="#cb39-11"></a>      <span class="at">visitor =</span> <span class="fu">as.character</span>(visitor),</span>
<span id="cb39-12"><a href="#cb39-12"></a>      <span class="at">goals_home =</span> <span class="fu">as.integer</span>(hgoal),</span>
<span id="cb39-13"><a href="#cb39-13"></a>      <span class="at">goals_visitor =</span> <span class="fu">as.integer</span>(vgoal)</span>
<span id="cb39-14"><a href="#cb39-14"></a>    )</span>
<span id="cb39-15"><a href="#cb39-15"></a>  result</span>
<span id="cb39-16"><a href="#cb39-16"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="commit-and-push" class="slide level2"><h2>Commit and push</h2>
<p>Now would be a good time to commit your changes and push them to GitHub</p>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/3/3f/Git_icon.svg" alt="Git icon" width="300"><img data-src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="GitHub icon" width="300"></p>
</section></section><section><section id="check-your-package" class="title-slide slide level1 center"><h1>Check your package</h1>

</section><section id="check-your-package-1" class="slide level2"><h2>Check your package</h2>
<p><code>R CMD check</code> is the gold standard for checking that an R package is in full working order.</p>
<p><br></p>
<p>It is a programme that is executed in the shell.</p>
<p><br></p>
<p>However, <code>devtools</code> has the <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> function to allow you to run this without leaving your R session.</p>
</section><section id="devtoolscheck" class="slide level2"><h2><code>devtools::check()</code></h2>
<p>üé¨ Check your package:</p>
<div class="cell">
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html">check</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="section-6" class="slide level2"><h2></h2>
<div class="extrasmall">
<div class="sourceCode" id="cb41"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>‚îÄ‚îÄ R CMD check results ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ussie 0.0.0.9000 ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>Duration: 25.1s</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>‚ùØ checking DESCRIPTION meta-information ... WARNING</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  Non-standard license specification:</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    `use_mit_license()`, `use_gpl3_license()` or friends to pick a</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    license</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  Standardizable: FALSE</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>‚ùØ checking dependencies in R code ... WARNING</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  '::' or ':::' imports not declared from:</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>    'dplyr' 'tibble'</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>‚ùØ checking R code for possible problems ... NOTE</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'tier'</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'Season'</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'Date'</span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'home'</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'visitor'</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'hgoal'</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'vgoal'</span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  Undefined global functions or variables:</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>    Date Season hgoal home tier vgoal visitor</span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>0 errors ‚úî | 2 warnings ‚úñ | 1 note ‚úñ</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p><code>man/</code> is created</p>
</section><section id="aside-in-case-of-error" class="slide level2"><h2>Aside: in case of error</h2>
<p>On running <code><a href="https://devtools.r-lib.org/reference/check.html">devtools::check()</a></code> you may get an error if you are using a networked drive.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>Updating ussie documentation  </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>Error: The specified file is not readable: path-to\ussie\NAMESPACE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<p>This is covered <a href="https://stackoverflow.com/questions/40530968/overwriting-namespace-and-rd-with-roxygen2">here</a> and can be fixed.</p>
</section><section id="aside-in-case-of-error-1" class="slide level2"><h2>Aside: in case of error</h2>
<p>Save a copy of this file:</p>
<p><a href="https://forwards.github.io/workshops/package-dev-modules/slides/03-your-first-package/fix_for_networked_drives.R">fix_for_networked_drives.R</a></p>
<p>Save it somewhere other than the <code>ussie</code> directory</p>
<p>Open the file from the <code>ussie</code> project session</p>
<p>Run the whole file</p>
<p>You should now find that <code><a href="https://devtools.r-lib.org/reference/check.html">check()</a></code> proceeds normally</p>
</section><section id="section-7" class="slide level2"><h2></h2>
<div class="extrasmall">
<div class="sourceCode" id="cb43"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>‚îÄ‚îÄ R CMD check results ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ussie 0.0.0.9000 ‚îÄ‚îÄ‚îÄ‚îÄ</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>Duration: 25.1s</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>‚ùØ checking DESCRIPTION meta-information ... WARNING</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  Non-standard license specification:</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    `use_mit_license()`, `use_gpl3_license()` or friends to pick a</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    license</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  Standardizable: FALSE</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>‚ùØ checking dependencies in R code ... WARNING</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  '::' or ':::' imports not declared from:</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    'dplyr' 'tibble'</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>‚ùØ checking R code for possible problems ... NOTE</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'tier'</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'Season'</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'Date'</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'home'</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'visitor'</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'hgoal'</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  uss_make_matches: no visible binding for global variable 'vgoal'</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>  Undefined global functions or variables:</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>    Date Season hgoal home tier vgoal visitor</span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>0 errors ‚úî | 2 warnings ‚úñ | 1 note ‚úñ</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="errors-v-2-warnings-x-1-note-x" class="slide level2"><h2>0 errors v | 2 warnings x | 1 note x</h2>
<ul>
<li><p>checking DESCRIPTION meta-information ‚Ä¶ WARNING<br>
Non-standard license specification<br>
‚úÖ Next!</p></li>
<li><p>checking dependencies in R code ‚Ä¶ WARNING<br>
‚Äò::‚Äô or ‚Äò:::‚Äô imports not declared<br>
‚úÖ Next!</p></li>
<li><p>no visible binding for global variables<br>
‚úÖ Tomorrow!</p></li>
</ul></section></section><section><section id="license" class="title-slide slide level1 center"><h1>License</h1>

</section><section id="add-a-license" class="slide level2"><h2>Add a license</h2>
<p><strong><code>usethis</code></strong> helps out again!</p>
<p><br></p>
<p><code><a href="https://usethis.r-lib.org/reference/licenses.html">use_mit_license()</a></code>, <code><a href="https://usethis.r-lib.org/reference/licenses.html">use_agpl_license()</a></code>, <code><a href="https://usethis.r-lib.org/reference/licenses.html">use_ccby_license()</a></code> etc</p>
<div class="fragment">
<p>üé¨ Add a MIT license<sup>1</sup> - use your own name!</p>
<div class="cell">
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/licenses.html">use_mit_license</a></span><span class="op">(</span><span class="st">"Emma Rand"</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Read more in <a href="https://choosealicense.com/licenses/">Choose a Licence</a>.</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn1" role="doc-endnote"><p>MIT: Simple and permissive license that lets people use and freely distribute your code</p></li></ol></aside></section><section id="section-8" class="slide level2"><h2></h2>
<div class="small">
<div class="sourceCode" id="cb45"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>‚úî Setting License field in DESCRIPTION to 'MIT + file LICENSE'</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>‚úî Writing 'LICENSE'</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>‚úî Writing 'LICENSE.md'</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>‚úî Adding '^LICENSE\\.md$' to '.Rbuildignore'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="use_mit_license" class="slide level2"><h2><code>use_mit_license()</code></h2>
<p>üé¨ What files have appeared?</p>
<p><br></p>
<p>üé¨ How has the <code>DESCRIPTION</code> file changed?</p>
<p><br></p>
<p>üé¨ Run <code><a href="https://devtools.r-lib.org/reference/check.html">devtools::check()</a></code> again. Has one of the warnings disappeared?</p>
</section></section><section><section id="woo-hoo-you-made-a-package" class="title-slide slide level1 center"><h1>üì¶ Woo hooüì¶ <br> You made a package!</h1>

</section><section id="commit-and-push-1" class="slide level2"><h2>Commit and push</h2>
<p>Now would be a good time to commit your changes and push them to GitHub</p>
<p><img data-src="https://upload.wikimedia.org/wikipedia/commons/3/3f/Git_icon.svg" alt="Git icon" width="300"><img data-src="https://upload.wikimedia.org/wikipedia/commons/9/91/Octicons-mark-github.svg" alt="GitHub icon" width="300"></p>
</section><section id="summary" class="slide level2"><h2>Summary</h2>
<div class="small">
<ul>
<li>It is useful to make a package
<ul>
<li>it is fairly easy with <code>devtools</code>
</li>
<li>it will help you work more reproducibly</li>
</ul>
</li>
<li>Packages can be in one of 5 states:
<ul>
<li>source - what you write</li>
<li>bundled - source compressed to single file, submitted to CRAN</li>
<li>binary - distribution for users w/o <code>devtools</code>
</li>
<li>installed - a binary that‚Äôs been decompressed</li>
<li>in-memory - installed package that has been loaded</li>
</ul>
</li>
</ul>
</div>
</section><section id="summary-continued" class="slide level2"><h2>Summary continued</h2>
<div class="small">
<ul>
<li>A minimal package comprises
<ul>
<li>a folder which is a package and a RProj</li>
<li>
<code>DESCRIPTION</code>, <code>NAMESPACE</code>, <code>.Rbuildignore</code> <code>.gitignore</code>
</li>
<li>
<code>R/</code> directory for functions</li>
</ul>
</li>
<li>We add functions with <code>usethis:use_r()</code>
</li>
<li>We use the package interactively with <code><a href="https://devtools.r-lib.org/reference/load_all.html">devtools::load_all()</a></code>
</li>
<li>We use <code><a href="https://devtools.r-lib.org/reference/check.html">devtools::check()</a></code> to execute <code>R CMD</code> check</li>
<li>We add a license with <code><a href="https://usethis.r-lib.org/reference/licenses.html">usethis::use_mit_license()</a></code>
</li>
</ul>
</div>
</section><section id="references" class="slide level2 extrasmall smaller scrollable"><h2>References</h2>

<div class="footer footer-default">
<p><a href="https://rstd.io/btt" class="uri">https://rstd.io/btt</a></p>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-engsoccerdata" class="csl-entry" role="doc-biblioentry">
Curley, James. 2016. <span>‚ÄúEngsoccerdata: English and European Soccer Results 1871-2016.‚Äù</span> <a href="https://CRAN.R-project.org/package=engsoccerdata">https://CRAN.R-project.org/package=engsoccerdata</a>.
</div>
<div id="ref-wickham2021a" class="csl-entry" role="doc-biblioentry">
Wickham, Charlotte, and Hadley Wickham. 2021. <em>Building Tidy Tools</em>. rstudio::conf 2020. <a href="https://github.com/rstudio-conf-2020/build-tidy-tools">https://github.com/rstudio-conf-2020/build-tidy-tools</a>.
</div>
<div id="ref-testthat-2" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley. 2011. <span>‚ÄúTestthat: Get Started with Testing‚Äù</span> 3. <a href="https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf">https://journal.r-project.org/archive/2011-1/RJournal_2011-1_Wickham.pdf</a>.
</div>
<div id="ref-usethis-2" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Jennifer Bryan, and Malcolm Barrett. 2022. <span>‚ÄúUsethis: Automate Package and Project Setup.‚Äù</span> <a href="https://CRAN.R-project.org/package=usethis">https://CRAN.R-project.org/package=usethis</a>.
</div>
<div id="ref-wickham2020" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, and Jenny Bryan. 2020. <em>R Packages</em>. The work-in-progress 2nd edition. Online. <a href="https://r-pkgs.org/index.html">https://r-pkgs.org/index.html</a>.
</div>
<div id="ref-devtools-2" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, Jim Hester, Winston Chang, and Jennifer Bryan. 2021. <span>‚ÄúDevtools: Tools to Make Developing r Packages Easier.‚Äù</span> <a href="https://CRAN.R-project.org/package=devtools">https://CRAN.R-project.org/package=devtools</a>.
</div>
</div>
</section></section>
</div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="../site_libs/revealjs/dist/reveal.js"></script><!-- reveal.js plugins --><script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script><script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script><script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script><script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script><script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script><script src="../site_libs/revealjs/plugin/notes/notes.js"></script><script src="../site_libs/revealjs/plugin/search/search.js"></script><script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script><script src="../site_libs/revealjs/plugin/math/math.js"></script><script>window.define = window.backupDefine; window.backupDefine = undefined;</script><script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 7.0e-2,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script><script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script><script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>


</body></html>